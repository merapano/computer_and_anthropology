---
title: 一人でローカルで git で遊ぶ
author: Satoshi Nakagawa
---

# はじめに

git は複数人でプログラムを作ることを目的とし
て作られたプログラムです。わたしは、プログラ
ムだけでなく論文も git を使用して作成していま
す。それも「お一人様 git」として使っています。
そのやり方を、今回と次回のメールでお伝えします。

まずは先日 clone してつくった naturalism ディ
レクトリ（「ローカルの作業場所」）の中にはいっ
てください（"cd naturalism/"）。

しばらく GitHub にある "naturalism" リポジト
リ（「リモート・リポジトリ」）を忘れてくださ
い。このメールではローカルな作業場所での作業
の仕方を説明します。

# ローカルな作業場所

「ローカルな作業場所」とは、あなたの手元のコ
ンピューターの "naturalism/" ディレクトリです。
その中身をよく見ると ".git/" という（サブ）ディ
レクトリがあるのがわかると思います。（ウィン
ドウズではドットで始まるファイル／ディレクト
リを見るのは難しいと聞いたことがあります。見
当たらなくても、「そのような（隠し）ディレク
トリがあるんだろう」として、以下の話を聞いて
ください）。

この ".git/" サブディレクトリ以下は決してさわ
らないでください。ここに（リモート・リポジト
リに対応する）リポジトリがあります。これを
「ローカル・リポジトリ」と呼びます。

「ローカルな作業場所」でする作業（このメール
で述べること）とは、そのディレクトリ内にある
ファイルを編集して、それらの変更箇所をローカ
ルなリポジトリに「コミットする／チェックイン
する」ことです。

# 中間の舞台 (stage) とローカルリポジトリ

git の一つの捉え方は「執筆の際の心変わりを許
す」プログラムと言えます。論文やプログラムは、
ある目論見で書き始めても、「あ・やっぱりこう
ではない」と思うことがよくあります。そのよう
な心変わりに対処できるのが git というプログラ
ムです。

心変わり対策の第１弾が「中間の舞台」の設置で
す。*中間* とは「ローカルな作業場所」
と「ローカルなリポジトリ」の「中間」という意
味です。変更をローカルなリポジトリにコミット
する前に、 並べておく場所です。

中間の舞台に登録するには "git add" コマンドを
つかいます。

この中間舞台があることにより、最終的なローカルリポジトリに
登録するまえに考えることができます。

そして納得がいけば "git commit" コマンドで
ローカルリポジトリに変更箇所をコミットします。

そして、コミットした後でも無理矢理に
その変更を「なかったこと」にするコマンドも用意されています。

# でもね

たとえば、affordance.md というファイルがあり、
その中でアフォーダンスの説明をするとします。
まず (a) ギブソンの議論を紹介し、(b) リードの
議論を紹介し、さらに (c) 佐々木から引用したと
します。

(a) の作業が終わった時点まず "git add" をしま
す。そうすると (a) の作業が中間舞台に並べられ
ます。つづいて (b)、(c) と終わるたびに "git
add" します。

ローカルリポジトリに「コミット／チェックイン」
する（登録する）前に心変わりしたとしましょう。
(c) が余分だな・・・と。この時、(c) の add
（中間舞台への登録）の取り消しをするのが、
reset コマンドです。以下の例の "HEAD" はおま
じないと思ってください。

    git reset HEAD affordance.md

これで (c) の add は取り消されました。

